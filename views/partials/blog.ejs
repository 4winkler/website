<section id="sec-blog">

<div class="container px-0">
  <div class="px-3">
    <h2 class="display-4">Blog</h2> 

    <!-- Display message only if redirected from subscribe form -->
    <% if (error && error.length > 0) {%>
      <div class="alert alert-danger" role="alert">
        <%= error %>
      </div>
    <% } %>
    <% if (success && success.length > 0) {%>
      <div class="alert alert-success" role="alert">
        <%= success %>
      </div>
    <% } %>
    

    <p>Welcome to my blog :-) So far a bit philosophy, a bit diary, let's see where it goes...
    </p>
  </div>

  <div class="row m-1 m-md-0">
  <!-- Loop through array, newest posts first -->
  <% for(var i=posts.length - 1; i >= 0;i--) { %>
  <% var post = posts[i]; %>

    <div class="col col-12 col-xl-6 p-0 mb-2">
      <div class="row post-preview clickable" data-location="/blog/<%= post.id() %>">

        <!-- image  -->
        <div class="img-prev col-md-4 order-2 order-md-1 p-1">
          <img src="<%= post.img %>">
        </div>

        <!-- text -->
        <div class="col pt-3 px-3 order-1 order-md-2">
          <h3 class="mb-1"><%= post.title %></h3>
          <h6 class="mb-3 text-muted"><%= post.subtitle %></h6>
          <p class="mb-0"><small class="text-muted">
            <%= post.date %> &nbsp;&middot;&nbsp; 
            <%= post.time %> min read</small>
          </p>

          <p class="d-none d-md-block mt-3" style="text-align: justify;">
            <%- post.content.substring(0,220) %>...
            <span class="text-secondary">
            read more <i class="fas fa-angle-double-right fa-xs pr-1"></i>
            </span>
          </p>
        </div>

      </div><!--  ./post-preview -->
    </div>
  <% }; %> <!-- end post loop -->
  </div>
    </div> <!-- container -->
</section>
